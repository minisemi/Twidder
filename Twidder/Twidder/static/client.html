<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Twidder</title>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
       <link href="client.css" type="text/css" rel="stylesheet">
       <script src="client.js" type="text/javascript"></script>
       <script src="serverstub.js" type="text/javascript"></script>
        <script type="text/view" id="welcome">

    <div class="mainDiv">
        <div class="leftBox">
        <img src="wimage.png">
        </div>

        <div class="rightBox">
            <form id="login_form" onsubmit="login();return false">
                <div class="form">Email: <input type="email" name="email" id=loginemail required title="Correct email format" autocomplete="on"></div>
                <div class="form">Password: <input type = "password" name= "password" id=loginpassword minLength=5 required autocomplete="on"></div>
            <div class=form>Login<input id="loginButton" type="submit" class="btn btn-lg btn-primary" like="Login"></div>
            </form>


        </div>
        <div class="bottomBox rightBox" onsubmit="signUp();return false">
            <p>Sign up here</p>
            <form id="signup_form">
                <div class="form">First name: <input type="text" name="firstName" id="firstname" required></div>
                <div class="form">Family name: <input type = "text" name= "familyName" id=familyname required></div>
                <div class="form">Gender:
                    <select name = "gender" id="gender">
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select></div>
                <div class="form">City: <input type = "text" name= "city" id=city required></div>
                <div class="form">Country: <input type = "text" name= "country" id=country required></div>
                <div class="form">Email: <input type="email" name="email" id=email required  title="Correct email format"></div>
                <div class="form">Password: <input type = "password" name= "password" id=password pattern=".{5,}" title="Min 5 characters" required></div>
                <div class="form">Repeat PSW: <input type = "password" name= "repeatpsw" id=repeatpsw pattern=".{5,}" title="Min 5 characters" required></div>

            <div class="form">SignUp<input type=submit id="signupButton" class="btn btn-lg btn-primary" like="Sign up"></div>
            </form>
        </div>
        <p id=error></p>
    </div>

    </script>
        <script type="text/view" id="profile">

        <div class="mainDiv_profile">

        </div>
        <ul class="tab">
  <li><a href="javascript:void(0)" id="homeTab" class="tablinks" onclick="openTab('Home');displayUserData();refreshMessages(sessionStorage.email,'messageBoard')">Home</a></li>
  <li><a href="javascript:void(0)" class="tablinks" onclick="openTab('Browse')">Browse</a></li>
  <li><a href="javascript:void(0)" class="tablinks" onclick="openTab('Account')">Account</a></li>
</ul>

<div id="Home" class="tabcontent"  >
  <h3>Home</h3>

  <div class=userDataBox>
  <div class="form">First name: <p id="userfirstname" ></p></div>
                <div class="form">Family name: <p id=userfamilyname></p></div>
                <div class="form">Gender: <p id=usergender ></p></div>
                <div class="form">City: <p id=usercity ></p></div>
                <div class="form">Country: <p id=usercountry ></p></div>
                <div class="form">Email: <p id=useremail ></p></div>
    </div>

    <div class=postMessage>
    <form>

    <textarea rows="10" cols="50" ondrop="drop(event)" ondragover="allowDrop(event)" id=message ></textarea>
    <button class="btn btn-lg btn-primary" onclick="postMessage('message',sessionStorage.email,'messageBoard');return false">Post</button>
    <button class="btn btn-lg btn-primary" onclick="refreshMessages(sessionStorage.email,'messageBoard');return false">Refresh</button>
    </form>
    </div>
    <div class = messageBoard>
        <ul id=messageBoard>
        </ul>
    </div>
</div>

<div id="Browse" class="tabcontent">
  <h3>Browse</h3>
  <div class = searchBox>
  <form id=searchForm>
  <input type=email id=searchEmail required float=left></input>
  <button class="btn btn-lg btn-primary" id=searchButton onclick="searchForUser();return false" float=left>Search</button>
  </form>
  </div>
  <div id=searchResults style="visibility:hidden">
  <div class=userDataBox>
  <div class="form">First name: <p id="searchfirstname" ></p></div>
                <div class="form">Family name: <p id=searchfamilyname></p></div>
                <div class="form">Gender: <p id=searchgender ></p></div>
                <div class="form">City: <p id=searchcity ></p></div>
                <div class="form">Country: <p id=searchcountry ></p></div>
                <div class="form">Email: <p id=searchemail ></p></div>
    </div>

    <div class=postMessage">
    <form>

    <textarea rows="10" cols="50" id=searchmessage ></textarea>
    <button class="btn btn-lg btn-primary" onclick="postMessage('searchmessage', document.getElementById('searchEmail').value, 'searchmessageBoard');return false">Post</button>
    <button class="btn btn-lg btn-primary" onclick="refreshMessages(document.getElementById('searchEmail').value, 'searchmessageBoard');return false">Refresh</button>
    </form>
    </div>
    <div class = messageBoard>
        <ul id=searchmessageBoard>
        </ul>
    </div>
    </div>
</div>

<div id="Account" class="tabcontent">
  <h3>Account</h3>
  <form id="changePwForm" onsubmit="changePassword();return false">
  <div class="form">Old pw<input type="password" name="old_password" id="changePasswordOld" minLength=5 required></div>
  <div class="form">New pw<input type="password" name="new_password" id="changePasswordNew1" minLength=5 required></div>
  <div class="form">Repeat new pw<input type="password" name="repeat_new_password" id="changePasswordNew2" minLength=5 required></div>
  <div class="form"><input class="btn btn-lg btn-primary" type="submit" like="Change pw"></div>
  </form>
  <p id=passwordText></p>
  <button class="btn btn-lg btn-primary" onclick="logout()">Logout</button>
</div>

        </script>
    </head>
    <body>
    <div id="currentView"></div>
    </body>
</html>
